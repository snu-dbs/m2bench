select count(*) from (select gender, count(gender) from Patient where patient_id in (select distinct patient_id from Diagnosis where patient_id != 9 and disease_id in (select distinct disease_id from (traverse in('Is_a') from (select @rid from (traverse out('Is_a') from (select disease from Diagnosis where patient_id = 9) MAXDEPTH 1)) MAXDEPTH 1)) and disease_id not in (select disease_id from Diagnosis where patient_id = 9)) GROUP BY gender)
